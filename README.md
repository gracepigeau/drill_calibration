# Drill Calibration
Certain surgeries use tracked surgical navigation systems to assist in drilling. This requires markers to be attached to the drill. The location of the markers relative to the drill tip and drill axis are initially unknown and must be calibrated before the tracked drill is used.

# Motivation

This project is/was created for CISC 330 at Queen's University for Professor Fichtinger in 2017

# Use

# Functions
## 1. ComputeMarkerFrame

Takes in the markers A, B, C at the points shown below in tracker/drill coordinates and outputs the orthonormal coordinate system defined by these points. The coordinate system is centred at the average of A, B, and C.

## 2. ComputeGroundTruth

Takes in the orthonormal coordinate system generated by computing the marker frame and outputs the drill tip and axis and marker coordinates. This is done by finding the transformation between the tracker/drill coordinate system and the marker coordinate system and applying that transformation to the known drill tip and axis in tracker coordinates.

## 3. DrillTipSimulator

Takes in a number of positions and a range of calibration motion (degrees). This function randomly chooses an angle within the specified range at which to generate the A, B, and C markers, it simulates the drill axis at this angle and then shifts each marker the appropriate distance from this simulated “axis”. This step is repeated for the given the number of positions. This mimics the rotation of the drill around the drill tip in a circular motion.

## 4. DrillAxisSimulator

Takes in a number of positions and a range of calibration motion (degrees). This function randomly chooses an angle within the specified range at which to generate the A, B, and C markers, it simulates the drill axis at this angle and then shifts each marker the appropriate distance from this simulated “axis”. This step is repeated for the given the number of positions. This mimics the spinning of the drill around the z-axis.

## 5. DrillTipCalibration

## 6. DrillAxisCalibration

## 7. DrillTipCalibration Test
Takes in the ground truth drill tip value in marker coordinates and does not output anything. It displays in the command window the calculated drill tip value for 12 different trial cases as well as how many of these cases matched the ground truth value exactly (to the tenth decimal place).

## 8. DrillAxisCalibration Test
Takes in the ground truth drill axis value in marker coordinates and does not output anything. It displays in the command window the calculated drill axis value for the 12 different trial cases as well as how many of these cases matched the ground truth value exactly (to the tenth decimal place).




